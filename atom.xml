<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[thecave | A Hideout for Programmers, Indie Devs, Solopreneurs]]></title>
  <link href="http://www.thecave.com/atom.xml" rel="self"/>
  <link href="http://www.thecave.com/"/>
  <updated>2017-03-25T07:58:53-04:00</updated>
  <id>http://www.thecave.com/</id>
  <author>
    <name><![CDATA[Kirby Turner]]></name>
    
  </author>
  <rights>Copyright (c) 2002-2017 Kirby Turner</rights>
  
  
  <entry>
    <title type="html"><![CDATA[Micro blogging from thecave]]></title>
    <link href="http://www.thecave.com/2017/03/25/micro-blogging-from-thecave/"/>
    <published>2017-03-25T07:15:34-04:00</published>
    <updated>2017-03-25T07:15:34-04:00</updated>
    <id>http://www.thecave.com/2017/03/25/micro-blogging-from-thecave</id>
    <content type="html"><![CDATA[<p>Testing, testing. 1, 2, 3…I moved my RSS feed for <a href="http://micro.blog">micro.blog</a> to <a href="https://www.thecave.com/">thecave.com</a> since I’m no longer actively working on my app, Cross Post.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Experienced Programmer's Guide to Getting Started with Swift]]></title>
    <link href="http://www.thecave.com/2017/02/02/the-experienced-programmers-guide-to-getting-started-with-swift/"/>
    <published>2017-02-02T11:32:49-05:00</published>
    <updated>2017-02-02T11:32:49-05:00</updated>
    <id>http://www.thecave.com/2017/02/02/the-experienced-programmers-guide-to-getting-started-with-swift</id>
    <content type="html"><![CDATA[<p>A couple Vermont-based software developers recently asked me how to get started with Swift and writing apps for iOS. I emailed them individually, but when I was asked again today, I thought, time to write a blog post.</p>

<p>If you are an experienced programmer looking to get started with Swift and iOS development, I suggest starting with the <a href="https://developer.apple.com/swift/resources/">Apple developer guides</a>. I also recommend reading the language guide, available in the iBooks Store and <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/index.html#//apple_ref/doc/uid/TP40014097-CH3-ID0">online</a>. It is a dry read, but very detailed. Besides, I still find myself referring to it from time to time, so it is on my “must read” list for those new to Swift.</p>

<p>Another great place to get started is over at <a href="https://www.raywenderlich.com">raywenderlich.com</a>. The site contains tons of great tutorials, books, and videos. Some are free, others you pay for, but the materials are some of the best learning materials outside of Apple. Take a look at the <a href="https://www.raywenderlich.com/category/swift">Swift category</a> to get started.</p>

<p>If you are interested in game development, the book <em><a href="https://www.raywenderlich.com/store/2d-ios-tvos-games-by-tutorials">2D Apple Games</a></em> is an awesome read. It focuses on writing iOS games using Swift 3 and SpriteKit, giving you step by step instructions. I have read half the book so far, and it has been a blast learning how to create games for iOS (even though I am not a game developer).</p>

<p>Lastly, if you have an iPad, check out <a href="http://www.apple.com/swift/playgrounds/">Swift Playgrounds</a>. It teaches you how to code, which is not something you need if you are an experienced programmer, but from what I have heard, the advance lessons can be helpful in teaching experienced programmer how to write Swift code. Also, you can experiment with all aspects of the device, from accessing the various iOS frameworks, such as SpriteKit and UIKit, to directly controlling hardware, such as the gyroscope, accelerometer, and camera. (Download the Swift Playgrounds app <a href="https://itunes.apple.com/us/app/swift-playgrounds/id908519492?mt=8">here</a>.)</p>

<p>Hope this helps get you started.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wow! Busy weekends ahead]]></title>
    <link href="http://www.thecave.com/2017/01/30/wow-busy-weekends-ahead/"/>
    <published>2017-01-30T20:34:29-05:00</published>
    <updated>2017-01-30T20:34:29-05:00</updated>
    <id>http://www.thecave.com/2017/01/30/wow-busy-weekends-ahead</id>
    <content type="html"><![CDATA[<p>A friend emailed me asking if I’m around in two weekends. He wants to visit me in Stowe and do a little riding together. I haven’t seen this friend in years, and it will be great to catch up ago. The problem is, I discovered I’m busy every weekend through the end of March. Turns out, when you live in a ski town, lots of people want to come for a visit.</p>

<p>So if you want to visit me in Stowe, and you want to ride together, it’ll have to be during the weekday or a weekend towards the end of March beginning of April.</p>

<p>And in case you’re wondering, the skiing and riding in Stowe has been superb recently.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Hey Siri, Text Evernote]]></title>
    <link href="http://www.thecave.com/2017/01/20/hey-siri-text-evernote/"/>
    <published>2017-01-20T06:52:48-05:00</published>
    <updated>2017-01-20T06:52:48-05:00</updated>
    <id>http://www.thecave.com/2017/01/20/hey-siri-text-evernote</id>
    <content type="html"><![CDATA[<p>Do you use <a href="https://evernote.com">Evernote</a>? Ever wish you could quickly save a note to Evernote hands-free? I found a way.</p>

<p>For nearly a year now, I’ve been using Evernote to store everything. Even the draft of this blog post was written using Evernote. As my dependency on Evernote grew, so did my need to quickly capture new ideas when I wasn’t near my computer. Sure, I can use my iPhone to save a note, but how do I save one when I can’t using my phone. What if I’m driving and an idea comes to mind that I want to capture. What then? Pull the car over just to use Evernote. Sorry, I’m obsessed with using Evernote, but not that obsessed.</p>

<p>Thankfully I found a way to record my ideas to Evernote that I can do it even while driving. All I do is say, “Hey Siri text Evernote…”</p>

<h1 id="how-it-works">How it works</h1>

<p><a href="https://ifttt.com/">IFTTT</a> is an online service that lets you connect one service to another. It’s watching for actions from one service, and when they happen, it triggers an action in the other service. For instance, if you post a picture to Instagram, then save it to Dropbox. IFTTT can do that for you. It’s even in their name. IFTTT is If This, Then That. If I post a picture to Instagram, then save it to Dropbox. If This, Then That.</p>

<p>IFTTT supports incoming SMS messages. IFTTT can also save a note Evernote. I created an applet — that’s what IFTTT calls the rules that connect services together — that combines these two services. The applet accepts an incoming SMS message, then saves the message to Evernote.</p>

<p>IFTTT provides the phone number for the SMS message, which I added to my contacts list. I named the contact Evernote. Now, whenever I need to save an idea to Evernote quickly, I just send a text message to my Evernote contact. Cool, eh? Wait, it gets even cooler.</p>

<h1 id="hey-siri-text-evernote">Hey Siri, Text Evernote</h1>

<p>iPhone and Apple Watch have a nifty feature where you can say, “Hey Siri” and have Siri do some task for you. I use this all this time for things like setting a timer. “Hey Siri, set a 5 minute timer.” BAM! Siri sets a 5-minute timer for me. But Siri can do more. She can send a text message. Heck, she’ll even type the message as you speak. So while I’m driving, I raise my wrist and say into my Apple Watch, “Hey Siri, text Evernote, write a blog post on how I save ideas to Evernote without using my hands.” My watch sends the message to my iPhone, which sends out the SMS to IFTTT, which saves the message to Evernote.</p>

<p>Pretty dang cool, eh?</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Trying a little experiment]]></title>
    <link href="http://www.thecave.com/2016/12/30/trying-a-little-experiment/"/>
    <published>2016-12-30T18:01:52-05:00</published>
    <updated>2016-12-30T18:01:52-05:00</updated>
    <id>http://www.thecave.com/2016/12/30/trying-a-little-experiment</id>
    <content type="html"><![CDATA[<p>I want an easy way to share certain posts to social media sites, such as Facebook and Twitter, at the time I publish the post. The more I can automate, the better. The problem is this site is a static HTML site generated by <a href="https://jekyllrb.com">Jekyll</a> and hosted on <a href="https://pages.github.com">Github Pages</a>.</p>

<p>So how do I automatically share a post to Facebook or Twitter? That’s what I’m experimenting with right now, and this post is my test post.</p>

<h2 id="whats-going-on">What’s Going On</h2>

<p>For the techies reading this, here’s what I’m doing.</p>

<p>First, I updated my tags plugin to generate an RSS feed file for each tag. Next, I setup <a href="https://ifttt.com">IFTTT</a> to monitor the feed files for the tags “facebook” and “twitter”. When IFTTT detects a new feed file item (i.e., a new blog post), it will post the item to the appropriate social media site. If I want to share a post to Facebook, I simply tag it with “facebook”. And if I want to share the post on Twitter, I tag it with “twitter”.</p>

<p>The <a href="https://github.com/kirbyt/site-www-thecave-com">source code for this site</a> is available on <a href="https://github.com/kirbyt/site-www-thecave-com">Github</a> for those who want to look under the hood.</p>

<p>Now to start work on the hard part…writing more blog posts.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[From Trace To Slopes]]></title>
    <link href="http://www.thecave.com/2016/11/19/from-trace-to-slopes/"/>
    <published>2016-11-19T10:52:31-05:00</published>
    <updated>2016-11-19T10:52:31-05:00</updated>
    <id>http://www.thecave.com/2016/11/19/from-trace-to-slopes</id>
    <content type="html"><![CDATA[<p>I’m a software developer but I’m also a snowboard bum. And with the start of the 2016/2017 snowboard season upon us – that is, for those of us living in the Northern Hemisphere – I’m eager to hit the slopes. Over the last few years I’ve used <a href="http://www.traceup.com/trace-for-snow">Trace Snow</a>, formerly AlpineReplay, to track my time on the slopes. It’s a good iPhone app but far from perfect. One feature it lacks is reporting the number of days spent on the slopes in a season. Trace isn’t alone in not having this feature. None of the ski and snowboard tracking apps I’ve tried have this feature. It seems these apps are more commonly used by individuals who only get a small number of days on the slopes, say 5 or 10 days, which is easy to count. But when you average 80+ days each season, counting the number of days can be a pain.</p>

<p>As luck would have it I had the pleasure of meeting <a href="https://curtisherbert.com">Curtis Herbert</a> at this year’s 360idev. For those who don’t know Curtis, he’s an iOS developer who just happens to have written an excellent ski and snowboard tracking app appropriately named <a href="https://getslopes.com">Slopes</a>.</p>

<p>I tried Slopes once last year, but I wasn’t won over by it. I don’t remember the reasons, but I do remember it was lacking the one feature I really wanted, which is the see the number of days I’ve ridden in a season. I mentioned this to Curtis and before the end of the conference Slopes had a day count feature. And Curtis had a new customer. I decided right away I would use Slopes this season instead of Trace.</p>

<p>That said, I was bummed that I could not use Slopes to view the years of data I had collected in Trace. I mentioned this in email to Curtis and within a minute he replied telling me about Slopes’ import process. “Wow,” I thought, “he’s thought of everything.”</p>

<p>I immediately went to the Trace website to see if I could export my data, and sure enough I could. But there was a problem. I had to export each day one at a time. I’ve logged over 250 days in Trace and manually downloading each day was not something I wanted to do. So I put on my developer hat and wrote a python script that <a href="https://github.com/kirbyt/trace-export">downloads the GPX files from Trace</a>.</p>

<p><a href="https://www.python.org">Python</a> is the perfect language for a task like this especially when combined with <a href="https://www.crummy.com/software/BeautifulSoup/">Beautiful Soup</a>, a Python library for parsing HTML. I’ve written similar screen scraping scripts using Python and Beautiful Soup before, so writing a script that downloads the GPX files from the Trace site took me a fraction of the time it would have taken me to manually download each GPX file.</p>

<p>With my Trace data in hand I was ready to import the GPX files into Slopes, but I hit another wall. To import a GPX file into Slopes, you email the file to yourself, then on your iPhone, you open the GPX file in Slopes. This is a great process if you have one or two GPX files to import, but if you have hundreds, well, it’s less than ideal. But thankfully Curtis thought that too. You can use <a href="https://support.apple.com/en-us/HT201301">iTunes File Sharing</a> to import GPX files. Simply tether your iPhone to your Mac, open iTunes, select your iPhone, select the Apps section in the left panel, and scroll down to the File Sharing section in the right panel (thanks, Apple, for making this not so straight forward). Select the Slopes app, then drag and drop your GPX files into the Slopes Documents area. Finally, launch the Slopes app on your iPhone. Slopes was able to import all my files in a matter of seconds, and now I have all my tracked data, dating back to the 2012/2013 snowboard season, in Slopes.</p>

<p>Now, if you are a Slopes user too and you previously used Trace, you can use my Python script to <a href="https://github.com/kirbyt/trace-export">download your past GPX recordings</a>. I open sourced it so others can quickly download their data.</p>

<p>As for Slopes, I have to say it’s a great app and Curtis is awesome. He has thought of just about everything for Slopes, and for those features not in it, he seems like the type of guy who will add them if it makes sense for the app and its users. In fact one feature missing that I’ve already requested is an option to export all my GPX data from Slopes. I don’t plan to stop using Slopes anytime soon, but I would still like to see this feature on the off chance I have to make another switch in the future.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How To Do A Case Insensitive Search Using Parse SDK]]></title>
    <link href="http://www.thecave.com/2015/12/03/how-to-do-a-case-insensitive-search-using-parse-sdk/"/>
    <published>2015-12-03T10:16:56-05:00</published>
    <updated>2015-12-03T10:16:56-05:00</updated>
    <id>http://www.thecave.com/2015/12/03/how-to-do-a-case-insensitive-search-using-parse-sdk</id>
    <content type="html"><![CDATA[<p>I recently came across this question about searching using the Parse SDK for iOS. Simon asks:</p>

<blockquote>
  <p>What would be the best practice for search in a large user database and return e..g 10 first results based on name or email?</p>
</blockquote>

<p>I’ve been doing a lot with <a href="https://www.parse.com">Parse</a> recently, from building a new iOS app to adding a license key <a href="http://www.whitepeaksoftware.com/licenselookup">lookup</a> feature to my company website, and the reason Simon’s question caught my attention was because I asked myself a similar question the other day when working on the license key lookup feature.</p>

<p>The license key data comes from my order processing provider. A customer who has lost they license key can visit my website and retrieve for their license information by entering their email address. The problem, however, is that the person might enter the email address using a different case than used when the order was placed. And Parse does not have a way to perform a case insensitive search on string values.</p>

<p>So how do you get around this problem? And as Simon asks, what are some best practices for searching data in Parse?</p>

<h2 id="force-strings-to-all-lowercase">Force Strings To All Lowercase</h2>

<p>For starters, you should force all string values that can be searched to lower case, and do the same with the search string entered by the user. This produces the same effect as performing a case insensitive search while getting around the fact that Parse, as well as other types of data stores, doesn’t support case insensitive searches.</p>

<p>While storing the string value in all lowercase works fine for some value types, such as an email address, it’s not ideal for other value types. A person’s first and last names are not something you want to store in lowercase only. After all, you will likely display the person’s name on a profile screen or in an email message, and you want to display the name exactly as entered by the person.</p>

<p>So how do you search by data such as a first or last name without the ability to perform a case insensitive search? Simple. You create a search field for each.</p>

<h2 id="define-search-fields">Define Search Fields</h2>

<p>Let’s say your Parse class contains three properties, <code class="highlighter-rouge">firstName</code>, <code class="highlighter-rouge">lastName</code>, and <code class="highlighter-rouge">email</code>. All three contain data entered by a person. When you add a new instance of this class to Parse containing the data entered by the person, you can force the value for <code class="highlighter-rouge">email</code> to be lowercase (e.g., <code class="highlighter-rouge">-[NSString lowercaseString]</code> if you’re using Objective-C). However, you don’t want to do this for <code class="highlighter-rouge">firstName</code> and <code class="highlighter-rouge">lastName</code>. Instead, you want to use search fields for those two properties.</p>

<p>To search on <code class="highlighter-rouge">firstName</code> and <code class="highlighter-rouge">lastName</code>, add two additional properties to your class, <code class="highlighter-rouge">firstNameSearch</code> and <code class="highlighter-rouge">lastNameSearch</code>. Then, just as you did with <code class="highlighter-rouge">email</code>, force the values for <code class="highlighter-rouge">firstNameSearch</code> and <code class="highlighter-rouge">lastNameSearch</code> to be all lowercase before saving the data to Parse. Now when you want to perform a search, use the search properties <code class="highlighter-rouge">firstNameSearch</code> and <code class="highlighter-rouge">lastNameSearch</code> instead of the other two.</p>

<p>Congratulations! You’ve achieved case insensitive searching in an environment that does not support it.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How To Present An Alert View Using UIAlertController When You Don't Have A View Controller]]></title>
    <link href="http://www.thecave.com/2015/09/28/how-to-present-an-alert-view-using-uialertcontroller-when-you-dont-have-a-view-controller/"/>
    <published>2015-09-28T15:46:02-04:00</published>
    <updated>2015-09-28T15:46:02-04:00</updated>
    <id>http://www.thecave.com/2015/09/28/how-to-present-an-alert-view-using-uialertcontroller-when-you-dont-have-a-view-controller</id>
    <content type="html"><![CDATA[<p>Over the summer I updated a number of apps to iOS 9. A common tasks for me was replacing the deprecated <code class="highlighter-rouge">UIAlertView</code> with new <code class="highlighter-rouge">UIAlertController</code> class. Generally this is easy to do, but there is one scenario that <code class="highlighter-rouge">UIAlertView</code> handles well that <code class="highlighter-rouge">UIAlertController</code> doesn’t support at all: displaying an alert view from parts of your code without a reference to the current view controller, for instance, displaying an alert view from the app delegate.</p>

<p>Trying to display an alert view using <code class="highlighter-rouge">UIAlertController</code> from a non-UI specific class such as the app delegate is a <a href="http://stackoverflow.com/questions/26952061/present-uialertcontroller-from-appdelegate">common problem</a>, and developers have found different <a href="http://stackoverflow.com/questions/26554894/how-to-present-uialertcontroller-when-not-in-a-view-controller">workarounds</a>. <a href="http://stackoverflow.com/a/30941356">One particular solution</a> that caught my eye was this one from agilityvision, who writes:</p>

<blockquote>
  <p>At WWDC I stopped in at one of the labs and asked an Apple Engineer this same question: “What was the best practice for displaying a UIAlertController?” And he said they had been getting this question a lot and we joked that they should have had a session on it. He said that internally Apple is creating a UIWindow with a transparent UIViewController and then presenting the UIAlertController on it.</p>
</blockquote>

<p>This got me thinking about how I would solve the problem for apps I work on. Liking the approach mentioned by the Apple Engineer, I decided to give that a try. But unlike some of the other solutions that use a category, I decided to create a new class, <code class="highlighter-rouge">WPSAlertController</code>, that is a subclass of <code class="highlighter-rouge">UIAlertController</code>, and provide additional convenience methods making it possible to display an alert view with a single call…like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSString *title = ...
NSString *message = ...
[WPSAlertController presentOkayAlertWithTitle:title message:message];
</code></pre>
</div>

<p>Or display the <code class="highlighter-rouge">localizedDescription</code> from an <code class="highlighter-rouge">NSError</code> object:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[WPSAlertController presentOkayAlertWithError:error];
</code></pre>
</div>

<p>And of course, since <code class="highlighter-rouge">WPSAlertController</code> is a subclass of <code class="highlighter-rouge">UIAlertController</code>, you can create your alert the same way as you do using <code class="highlighter-rouge">UIAlertController</code>. The only difference is you call <code class="highlighter-rouge">show</code> to present the alert when you don’t have a view controller. For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSString *title = ...
NSString *message = ...
WPSAlertController *alertController = [WPSAlertController alertControllerWithTitle:title message:message preferredStyle:UIAlertControllerStyleAlert];
[alertController addAction:[UIAlertAction actionWithTitle:@"OK" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
  // Your code.
}]];

[alertController show];
</code></pre>
</div>

<p>You can grab the <a href="https://github.com/kirbyt/WPSKit/blob/master/WPSKit/UIKit/WPSAlertController.m">source code for <code class="highlighter-rouge">WPSAlertController</code></a> from my github repository and include it in your project, or use the entire <a href="https://github.com/kirbyt/WPSKit">WPSKit.framework</a> in your project if you want to use <code class="highlighter-rouge">WPSAlertController</code> plus other handy classes that I use when creating iOS apps.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tags And Categories]]></title>
    <link href="http://www.thecave.com/2015/09/21/tags-and-categories/"/>
    <published>2015-09-21T19:45:44-04:00</published>
    <updated>2015-09-21T19:45:44-04:00</updated>
    <id>http://www.thecave.com/2015/09/21/tags-and-categories</id>
    <content type="html"><![CDATA[<p>I’ve been doing a bit of tinkering here at thecave. I realized I was using categories as if they were tags and for one simple reason. I didn’t have a way to support tags. That is, until now.</p>

<p>Tag support is provided in Jekyll, but I wanted something slightly different. I want the list of tags to appear at the end of a post just like the categories have for last couple of years. I searched for different ways to support tags with Jekyll, but I didn’t find anything suiting my needs. Then it occurred to me I could tweak the category plugins I use to work with tags, so that’s exactly what I did.</p>

<p>The <a href="https://github.com/recurser/jekyll-plugins">Jekyll category plugins</a> I use come from Dave Perretter. I made copies of <em>category_generator.rb</em> and <em>category_list_tags.rb</em> naming the new plugins <em>tag_generator.rb</em> and <em>tag_list_tags.rb</em>. Then I replace references to <code class="highlighter-rouge">categories</code> and <code class="highlighter-rouge">category</code> with <code class="highlighter-rouge">tags</code> and <code class="highlighter-rouge">tag</code> in the source code. And BAM! I now have tag support at thecave.com.</p>

<p>You can find the source code for the plugins in my site’s github <a href="https://github.com/kirbyt/site-www-thecave-com/tree/master/_plugins">repo</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Trying Something New To Avoid Feast Or Famine]]></title>
    <link href="http://www.thecave.com/2015/09/10/trying-something-new-to-avoid-feast-or-famine/"/>
    <published>2015-09-10T11:05:11-04:00</published>
    <updated>2015-09-10T11:05:11-04:00</updated>
    <id>http://www.thecave.com/2015/09/10/trying-something-new-to-avoid-feast-or-famine</id>
    <content type="html"><![CDATA[<p>I’ve been working for myself for nearly 12 years, and for the most part I love it. But there is one aspect of being an independent software developer that I could happily do without, the cycle of feast or famine.</p>

<p>My products don’t always sell as well as I would like, so I rely on consulting work to keep my annual income at a level that allows me to provide for my family. Some years I do less consulting work than other years thanks to product sales. But other years, I must rely more on consulting to keep food on the table.</p>

<p>Independent consulting work often times comes with the feast or famine cycle. Some months you have more work than you can handle, the feast, while other times you experience dry spells where you are not billing any hours, the famine.</p>

<p>Feast or famine is often times a result of not keeping a flowing pipeline of opportunities. But as a consultancy of one, keeping that pipeline flowing can be hard when you are focused on delivering a solution to a client.</p>

<p>I’ve tried different approach over the years to avoid the feast or famine cycle, and I continue trying new approaches each year. For instance, at the beginning of this year I agreed to work full time on a project for an agency. My hope was that by working with this agency, I would have a constant funnel of project work. However, the workload from the end-client was only part time at best, and since I was being paid hourly I didn’t earn nearly as much as I had planned<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. After a number of chats with the agency, I decided it was in the best interest for everyone for me to end the relationship so I could focus on projects that would get my income level back to where it was last year.</p>

<p>Today I’m trying something else new.</p>

<p>While combing through my leads I came across a posting for <a href="http://toptal.com/">Toptal</a>. Topal connects top freelance developers to businesses world wide looking to hire someone for a project. Now I know what many of my friends are thinking right now, this is another one of those crappy freelancer dot com, elancer, or up-something type of sites. And Toptal may in fact turn to be like those other sites. But I won’t know unless I try.</p>

<p>Back in the day I used guru.com to find iOS project work, and guess what? It worked and worked well. My first client iOS project came from guru, and I earned $36K off that one project. And my client became a repeat client of mine.</p>

<p>Does the guru site work today? In my opinion, no, it does not. But at least I tried it. And that’s what I’m <a href="https://www.toptal.com/app">joining Toptal</a>, to try it.</p>

<p>If Toptal works out for me and I’m able to reduce, or even eliminate the feast or famine cycle, then it’s a win win situation for everyone involved. And if it does not workout, well, I’m only out a couple hours of my time.</p>

<p>Update: After writing this post I learned more about the <a href="http://www.toptal.com/top-3-percent">Toptal screening process</a>. Their screening process alone separates them from the other sites mentioned in this post.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>I have since learned that in this situation I should have charged a fixed weekly or monthly rate instead of an hourly rate. This would have ensured I met my earning goals while still being available to the end-client even when the workload itself was lacking in hours.&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My Upcoming Share Extension Talk At 360idev-Min]]></title>
    <link href="http://www.thecave.com/2015/09/07/my-upcoming-share-extension-talk-at-360idev-min/"/>
    <published>2015-09-07T11:37:39-04:00</published>
    <updated>2015-09-07T11:37:39-04:00</updated>
    <id>http://www.thecave.com/2015/09/07/my-upcoming-share-extension-talk-at-360idev-min</id>
    <content type="html"><![CDATA[<p>I’m excited to be one of the speakers at the upcoming <a href="http://min.360idev.com">360idev-min</a> conference in Greenville, SC. In my talk I’ll share the things you need to know about when writing a share extension for your iOS app.</p>

<p>If you plan to attend <a href="http://min.360idev.com">360idev-min</a>, then use the coupon code <strong>SpeakerFriend</strong> to save $100 when purchasing your ticket.</p>

<p>And let me know if you are attending so we can meet up in person.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wish I Could Help But It's Not My App]]></title>
    <link href="http://www.thecave.com/2015/09/01/wish-i-could-help-but-its-not-my-app/"/>
    <published>2015-09-01T15:37:18-04:00</published>
    <updated>2015-09-01T15:37:18-04:00</updated>
    <id>http://www.thecave.com/2015/09/01/wish-i-could-help-but-its-not-my-app</id>
    <content type="html"><![CDATA[<p>A well known global company is using some open source code I wrote in one of their apps (yay!). Like a good company, they included my name and licensing information in app’s about screen. Now I’m getting emails from one of the app’s users seeking help with the app. The person thinks I wrote the app because my name appears in the licensing section.</p>

<p>Definitely a first for me.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Kicking Procrastination In The Ass]]></title>
    <link href="http://www.thecave.com/2015/08/31/kicking-procrastination-in-the-ass/"/>
    <published>2015-08-31T20:57:22-04:00</published>
    <updated>2015-08-31T20:57:22-04:00</updated>
    <id>http://www.thecave.com/2015/08/31/kicking-procrastination-in-the-ass</id>
    <content type="html"><![CDATA[<p>I attended a video cast thingie today - I think the kids call it a webinar - hosted by <a href="https://twitter.com/amyhoy">Amy Hoy</a> and <a href="https://twitter.com/alexhillman">Alex Hillman</a> titled <a href="https://www.crowdcast.io/e/procrastination">Kick Procrastination’s Ass</a>. It was really good, especially the first hour. If you have some spare time, I highly recommend watching it.</p>

<p>Some of the keys points for me included:</p>

<h2 id="reasons-for-procrastinating">Reasons for Procrastinating</h2>

<ul>
  <li>(Motivation) Lack of motivation.</li>
  <li>(Destination) Not really defining a specific goal. Too vague in what you want to accomplish.</li>
  <li>(Implementation) Breaking things down into small tasks, but they will be vague if the goals are vague. You need to have structure, a schedule that you stick to to over come this.</li>
</ul>

<h3 id="other-reason-for-procrastinating">Other Reason for Procrastinating</h3>

<ul>
  <li>The more you care about it, the harder it is to do. You are too emotionally involved. For example, it has to be perfect and since you feel like you can’t make it perfect right now, you put it off.</li>
  <li>Get over the fantasy that you are great and your product has to be perfect. Ship it. Make mistakes. And learn.</li>
  <li>Ship early. Example, ship when you only have 5 percent of the features complete. No one will know you didn’t ship the other 95 percent of features. (Note, the 5 percent must still be good and solve pains.)</li>
</ul>

<h2 id="other-points-and-thoughts-from-my-notes">Other Points and Thoughts From My Notes</h2>

<p>“If you had to ship today then what choices would you make?”</p>

<p>“You can’t ship a time tracking system without a timer or invoicing.” Sure you can. Once you solve a pain, ship. Other features can be added later. Another example, Early versions of <a href="https://letsfreckle.com">Freckle</a> shipped without a way to change your password. To change your password, you had to email support and have them change it for you.</p>

<p><strong>Think about what can you ship this month? This week? Today?</strong></p>

<p>When do you ship? When you kill one pain. Then kill another pain and ship. Rinse and repeat.</p>

<h2 id="and-one-of-my-favorite-points">And One of My Favorite Points</h2>

<p>Don’t get hung up on the long term destination, think of the short term destination to get it out the door in the near term. Note: You still want to have a long term goals, but don’t let them distract/delay from shipping today</p>

<p>Example: When Alex started <a href="http://www.indyhall.org">Indy Hall</a>, he asked friends if they wanted to meet at the same time and same coffee shop each day. It cost him nothing and that was Indy Hall for the first year. Meeting daily at a coffee shop wasn’t his long term goal, but it was a start. (If you can’t find people to meet at the coffee shop, you’re not going to attract them to your co-working space that you are paying for.)</p>

<p>Check out the video. Good stuff.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[You Don't Need Motivation. You Need Good Habits]]></title>
    <link href="http://www.thecave.com/2015/08/31/you-dont-need-motivation-you-need-good-habits/"/>
    <published>2015-08-31T14:49:56-04:00</published>
    <updated>2015-08-31T14:49:56-04:00</updated>
    <id>http://www.thecave.com/2015/08/31/you-dont-need-motivation-you-need-good-habits</id>
    <content type="html"><![CDATA[<p>Amy Hoy answers the question “<a href="https://unicornfree.com/2013/how-do-you-stay-motivated-when-youre-not-making-any-money">How do you stay motivated when you’re not making any money</a>”. The post is a couple of years old, but her answer is as relevant today as it was back then. It’s not about finding and having motivation. It’s about developing good habits.</p>

<p>To paraphrase Amy, you don’t let your kids or pets starve just because you’re not motivated to feed them. You do it anyways. And that exactly what you need to do when starting or running your business, creating a new product, or doing anything that matters to you. You just need to do it even when your not motivated to do it.</p>

<p>I think back to the time when I was writing the first edition of <a href="http://www.learningipadprogramming.com">Learning iPad Programming</a>. I was struggling to stay motivated, and I would go long periods of time (days, weeks, months) without writing a word. I read anything and everything I could find on how to stay motivated, but those tips didn’t help me.</p>

<p>What helped me was structuring my day so that I worked on my book at least an hour each day. I started work on the book at the same time every day, which was 9 am. Some days I only worked on it for an hour, other days I would work on it all day. It depended on how I felt. But I always worked on it for at least one hour starting at 9 am every day even when I wasn’t motivated to work on it.</p>

<p>This structure got me into the habit of writing daily. And after I developed the habit, I found writing became easier for me. And I was able to ship the book. The structure worked so well, I used it again and developed the same habit (and then some<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>) to ship the second edition, which I completed in a fraction of the time compared to the time spent on the first edition.</p>

<p>So don’t let a lack of motivation stop you from getting things done. If you are struggling, then setup a structure that will help you develop the habits you need to get things done.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>Another habit I developed while writing the second edition of my book, and one I still use today, is to listen to my <a href="https://open.spotify.com/user/kirbyt/playlist/6QUgiw9WPf8qXdgnrdXGvZ">Music to Write To</a> playlist on Spotify.&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Retiring My CSV Editor]]></title>
    <link href="http://www.thecave.com/2015/08/18/retiring-my-csv-editor/"/>
    <published>2015-08-18T11:23:09-04:00</published>
    <updated>2015-08-18T11:23:09-04:00</updated>
    <id>http://www.thecave.com/2015/08/18/retiring-my-csv-editor</id>
    <content type="html"><![CDATA[<p>Today I did something that I’ve been saying I will do for a long time. I retired my CSV editor, <a href="http://blog.whitepeaksoftware.com/2015/08/18/killinks-retirement/">Killink</a>.</p>

<p>The first release of Killink CSV Editor was back on March 22, 2007, and over the years it has done well despite the fact that I haven’t been actively working on the app or marketing it. Killink had great potential, especially if I had followed the business advice from those smarter than me to focus on the enterprise, but I honestly lost interest in the editor after I started writing apps for Mac and iOS.</p>

<p>I did start work on a Mac version of Killink CSV Editor, and I have still have a semi-working version of it on my iPhone. But I struggled to create the user experience that I wanted on those two platforms. Given enough time I could have conquered the UX challenges, but I knew the market for the editor was small and spending the extra time to do what I wanted didn’t make good business sense. So the Mac and iOS versions never shipped.</p>

<p>I always found the customers of Killink CSV Editor fascinating. While we developer types view CSV as antiquated technology, these customers work with CSV files regularly. And most are business users from large, well known companies. We developer types often times forget that people around the world are using old technologies like CSV daily to do their job, and they too would like a better way to work with old tech like CSV files. Killink CSV Editor was a better way for many for a number of years.</p>

<p>It saddens me to retire Killink CSV Editor, but at the same time I feel like a burden has been lifted off my shoulders. The app is rock solid and support is minimum, but I have felt guilty for a long time about selling a software product that I know isn’t actively being worked on. And with the recent Windows 10 release, I finally decided now is the time to retire my CSV editor.</p>

<p>I’ve heard many good things about Windows 10. But if I keep selling Killink to Windows users I will have no choice but to install it some day. And honestly, I don’t want to do that. I have zero interest in Windows these days.</p>

<p>I do plan to continuing supporting licensed users of Killink CSV Editor, which I talk about over at the <a href="http://blog.whitepeaksoftware.com/2015/08/18/killinks-retirement/">company blog site</a>. The support load is minimum, so providing ongoing support isn’t a concern for me. Killink is a native Win32 app built using Delphi. It’s rock solid and hasn’t had a serious issue that I couldn’t resolve in email in years. So I’m happy to continue answering questions about Killink and helping folks if they happen to run into a problem. That said, I’m not looking forward to the emails I’m going to receive when people try to buy a new license.</p>

<p>When I retired SMTP Diagnostics, another Windows app I sold for years, I received emails for nearly a year asking why it was no longer available and why I couldn’t make an exception this one time and sell a new license. Most of the time the people understood, but a few sent angry emails. I fully expect the same will happen with the retirement of Killink, and all I can say to those folks is sorry.</p>

<p>Retiring my CSV editor ends another chapter in my long software career. I’m a bit sad by this, but I’m also excited by no longer having the mental burden that came with having my editor sit untouched for such a long time while people were still buying licenses for it.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[I Wish There Was Something Better Than Meetup.Com]]></title>
    <link href="http://www.thecave.com/2015/08/17/i-wish-there-was-something-better-than-meetupcom/"/>
    <published>2015-08-17T07:28:35-04:00</published>
    <updated>2015-08-17T07:28:35-04:00</updated>
    <id>http://www.thecave.com/2015/08/17/i-wish-there-was-something-better-than-meetupcom</id>
    <content type="html"><![CDATA[<p>I’ve been a Meetup.com subscriber for years, but I hate using them. Their website isn’t very user-friendly, and I often times find their messages to be misleading and or confusing. For example during the transition of the <a href="http://www.nshappyhour.org">NSHappyHour</a> meetup, which had over 250 members, I tried to disable the account. Turns out that is not an option, or at least it wasn’t at the time. I learned that the account had been deleted when I went to re-enable the account a few days later. The only option was to start a new account. This meant we lost the 250+ members that has joined over the years, and we had no way of reaching out to those members to ask them to join the new meetup.</p>

<p>After that experience I decided I would not use Meetup.com again. But earlier this year I decided to start a new group, <a href="http://www.apres-code.com">Après Code</a>, and the best way to get the word out was to start another Meetup.com meet up. Meetup did help get the word out and people have been attending the gathering each month. But I still haven’t fully leveraged Meetup.com because the web interface is still just as confusing and crappy as ever.</p>

<p>Today I received yet another confusing, and misleading, message from Meetup.com that will cost a member $10, and I’m once again regretting my decision to use Meetup.com.</p>

<p>Apparently there is an option with Meetup to allow members to send a contribution. I thought this option was turned off, and according to my account settings contributions were not enabled. Yet, a member was still able to send a $10 contribution. I decided not to accept the contribution because it just seems weird to me to have someone spend me money for this meet up group.</p>

<p>I changed my mind this morning when I received the misleading email reminding me of the contribution. The Meetup email said, “You can choose to use it toward your Organizer Subscription.” My bi-annual subscription is due in a few days and I thought, sure, why not apply the $10 to the subscription amount. Turns out it’s not that simple.</p>

<p>With a single click of the mouse button, I started the process of accepting the contribution, but accepting the contribution means setting up a new account with some service named WePay and linking my bank account to WePay. This is not something I’m interested in doing. I know nothing about WePay. Not only that, WePay is taking $1.50 from the $10 contribution as a processing fee. That’s 15% of the contribution, which I find ridiculous.</p>

<p>Why can’t Meetup take the contribution and apply it directly to the Organizer Subscription? It seems like a simple enough task. After all, Meetup has the ability to process online credit card payments. And in doing this, members like me would not need to sign up for yet another service, link a bank account to a service they know nothing about, and the full contribution amount can be applied instead of only 85%.</p>

<p>So now I’m having to waste time contacting both Meetup and WePay requesting the member be refunded his contribution because Meetup misled me. And with my bi-annual subscription renewal coming up in a few days, I’m once agree debating whether I should continue using Meetup.com or not. I’m leaning towards not renewing, but I know if I don’t then they will delete the account and the members will be lost forever if I decide to renew later. And if I let the account expire before this contribution mess is resolved, the member who was kind enough to send the contribution will likely be out $10 and WePay will have an extra $10.</p>

<p>Regardless of whether or not I renew for another 6 months or not, I will not ever use Meetup.com again for any other group in the future. The subscription is not worth the hassle.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Two Years Ago Today]]></title>
    <link href="http://www.thecave.com/2015/08/15/two-years-ago-today/"/>
    <published>2015-08-15T09:46:04-04:00</published>
    <updated>2015-08-15T09:46:04-04:00</updated>
    <id>http://www.thecave.com/2015/08/15/two-years-ago-today</id>
    <content type="html"><![CDATA[<p>We moved to Stowe two years ago today. It seems like we’ve been here a lot longer, but in a good way.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Maintain Your iOS App With Peak App Care]]></title>
    <link href="http://www.thecave.com/2015/08/11/maintain-your-ios-app-with-peak-app-care/"/>
    <published>2015-08-11T07:05:42-04:00</published>
    <updated>2015-08-11T07:05:42-04:00</updated>
    <id>http://www.thecave.com/2015/08/11/maintain-your-ios-app-with-peak-app-care</id>
    <content type="html"><![CDATA[<p>Last month I briefly mentioned <a href="http://www.thecave.com/2015/07/07/ive-been-doing-it-wrong/">my plan</a> to productize some of the services I offer through White Peak Software. The main idea is to take a consulting service that I already offer to my clients and turn it into a product that my clients and others will hopefully subscribe to thus creating a monthly recurring revenue stream for my company. My goal was to spend no more than 40 hours over the span of a few weeks setting up this new product. And now, after spending 38.75 hours over the last few weeks, I’m ready to share more details.</p>

<p>Today I’m happy to announce <a href="https://www.peakappcare.com">Peak App Care</a>. Peak App Care is a monthly subscription service for maintaining your iOS apps. What do I mean by that? Simply put, I monitor your app for crashes and fix them as quickly as possible. Not only that, I also perform small jobs such as bug fixes and enhancements to your app at your request, and I even manage the App Store for you, from updating screenshots to submitting new builds on your behalf.</p>

<p>What I have found is that many apps available today in the App Store are published by companies with zero iOS developers on staff. Those companies, instead, rely on freelancers and software shops to build their apps for them. The problem, however, is that often times there’s no plans to keep the app up to date after the initial release.</p>

<p>What happens when the app starts crashing or customers start reporting bugs? What happens when Apple releases a new version of iOS or a new device?</p>

<p>Often times these companies must scramble to find an iOS developer to help out. If they are lucky, the original developer is still available but chances are good the developer is currently working on something else and isn’t available for days, weeks, or even months.</p>

<p>With Peak App Care I become your in-house iOS developer responsible for the upkeep of your mobile app. I watch for crashes and fix them as they are reported. But I go beyond that. I will work with you to ensure your app remains up to date with the latest changes coming out of Cupertino. A good example of this is happening right now.</p>

<p>iOS 9 is in beta and every app publisher should be testing their app on this new iOS version. Not only that, the app should be updated to cleanly compile against the iOS 9 SDK. This means replacing deprecated code. But a company with no staffed iOS developer is often times unaware of the need to perform these types of tasks. Or they choose to ignore these tasks. After all, the app is running fine right now, so why wouldn’t it run fine when the new OS comes out.</p>

<p>Sometimes it’s okay to ignore changes coming from Apple, but sometimes the changes are too big to ignore. The iPhone 6 Plus is one example. Customers can quickly tell if an iPhone app doesn’t support the larger display found on the 6 Plus, and the only way to take full advantage of the larger display is to update the app.</p>

<p>This is one area where Peak App Care helps app publishers. Making changes to your app to support the latest iOS release or new device is covered with Peak App Care.</p>

<p>So that’s the new productize service I’m now offering. Check out the new <a href="https://www.peakappcare.com">web site</a>, and tell your friends, family members and anyone else who might be interested. Now let’s chat about how this concept came to be.</p>

<h2 id="giving-credit-where-credit-is-due">Giving Credit Where Credit is Due</h2>

<p>I wish I could take credit for coming up with a totally unique concept, but the truth is a maintenance plan for software isn’t anything new. And providing this type of service for mobile apps isn’t new either. In fact, I got the idea from Einar Vollset.</p>

<p>Einar talks about his app care service in <a href="http://www.freelancetransformation.com/blog/building-a-recurring-revenue-consulting-business-with-einar-vollset">this podcast interview</a> over at <a href="http://www.freelancetransformation.com">Freelance Transformations</a>. This interview blew me away. Here’s a person providing a service that is similar to what I provide, but he came up with a different way to market the service. Brilliant!</p>

<p>But Einar’s <a href="http://www.appaftercare.com">App Aftercare</a> isn’t unique either. There are many other examples of this in different spaces. <a href="http://wpcurve.com">WPCurve</a> provides a similar service for folks running a WordPress site. And I’ve heard of other examples too, companies that will help you maintain your Ruby on Rails app or your Django server. So the concept of app maintenance isn’t new, but I do give credit to Einar Vollset for inspiring me to create <a href="https://www.peakappcare.com">Peak App Care</a>.</p>

<h1 id="whats-next">What’s Next</h1>

<p>So what’s next now that the web site is up and running? Well, it’s time for me to roll up my sleeves and start the real work…marketing Peak App Care.</p>

<p>Like any product I need to market Peak App Care if it is to be a success. My first step is to let my existing clients know about this new offering, which I’ve already done. After that I need to start making others companies within my target audience aware of Peak App Care, and that is where things start to get tougher for me. Just posting a web site isn’t going to bring in customers. I must find ways to reach my target audience, and thankfully I have some ideas on how to make that happen.</p>

<p>As for my company reboot, I feel this is a good first step. I don’t know if Peak App Care will be a success or not. I’m hopeful it will be. But if I fail to bring on new subscribers over the next few months, at least I won’t feel like I have wasted a lot of my time or money. This is a big switch in thinking when I compare it to the months I’ve spent in the past working on other products that either failed or were never even released into the wild.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Dispatch Async to Main Queue Doesn't Work With Modal Window on Mac OS X]]></title>
    <link href="http://www.thecave.com/2015/08/10/dispatch-async-to-main-queue-doesnt-work-with-modal-window-on-mac-os-x/"/>
    <published>2015-08-10T07:09:01-04:00</published>
    <updated>2015-08-10T07:09:01-04:00</updated>
    <id>http://www.thecave.com/2015/08/10/dispatch-async-to-main-queue-doesnt-work-with-modal-window-on-mac-os-x</id>
    <content type="html"><![CDATA[<p>I’ve been working on a Mac app lately, and while some things are similar to iOS, something are definitely different. One thing that is different are modal windows and run loops.</p>

<p>When you display a modal view on iOS you don’t get a new run loop for the view, but when you display a modal window on OS X a new run loop is created for the window. This is not necessarily a big deal unless you have a habit of using <a href="https://developer.apple.com/library/ios/documentation/Performance/Reference/GCD_libdispatch_Ref/">GCD</a> to dispatch work between background and main queues. Let me give a more specific example.</p>

<p>I display a modal view, or in the cause of OS X, a modal window. The current view is managed by a view controller. User input is captured, then a URL request is sent off to a server on the Internet. The view controller is then notified when the URL request completes.</p>

<p>The typical pattern I follow for sending the request to the server and getting notified when done is to call a method that will dispatch the URL request to a background queue then dispatch to the main queue to call a block when complete. It looks something like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)sendSomething:(NSDictionary *)something completion:(void(^)(BOOL success, NSError *error))completion
{
  NSParameterAssert(something);
  dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    // Send something out over the Internet.
    ...

    // All done. Assume success and error are already set.
    dispatch_async(dispatch_get_main_queue(), ^{
      if (completion) {
        completion(success, error);
      }
    });
  });
}
</code></pre>
</div>

<p>This is a simplified view of the pattern I often use. Call a method with a callback block. Perform some work on a background thread. When done, call the callback block on the main thread.</p>

<p>This pattern has served me well on iOS, but it has issues on Mac OS X when displaying a modal window.</p>

<p>When you display a modal window with <code class="highlighter-rouge">+[NSApp runModalForWindow:]</code> a new run loop is created for the window<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. That might seem fine until you call <code class="highlighter-rouge">dispatch_async(dispatch_get_main_queue(), ^{})</code> from a background thread. The block that you are trying to execute in the main queue will never run. And in my case, the <code class="highlighter-rouge">completion</code> block is never called. This means my modal window never receives the notification that the URL request completed. (NOTE: Mike Ash <a href="#update2">pointed out</a> that it’s not the new run loop that causes the problem.)</p>

<p>So how did I work around this problem?</p>

<p>Instead of dispatching the <code class="highlighter-rouge">completion()</code> to the main queue, I call it directly from the background thread. In the completion block itself, I decide how to get the code should run in the main thread. If my window isn’t modal, then I can use <code class="highlighter-rouge">dispatch_async(dispatch_get_main_queue(), ^{})</code>. But if my window is modal, which just happens to be the case for the app I’m working on, then I use <code class="highlighter-rouge">-performSelectorOnMainThread:withObject:waitUntilDone:</code>. So the code in my view controller looks something like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)someAction:(id)sender
{
  SomeHelper *helper = [[SomeHelper alloc] init];
  __weak __typeof__(self) weakSelf = self;
  [helper sendSomething:someValues completion:^(BOOL success, NSError *error) {
    __typeof__(self) strongSelf = weakSelf;
    if (strongSelf == nil) return;
    
    // This window is running modally with its own run loop. Therefore,
    // we cannot dispatch to the main queue. Instead, we must go old
    // school can call a selector on the main thread. In other words,
    // dispatch_async(dispatch_get_main_queue(), ^{}); does not work
    // here.
    
    NSMutableDictionary *userInfo = [NSMutableDictionary dictionary];
    userInfo[@"success"] = @(success);
    if (error) userInfo[@"error"] = error;
    
    [strongSelf performSelectorOnMainThread:@selector(completeSendSomething:) withObject:userInfo waitUntilDone:NO];
  }];
}

- (void)completeSendSomething:(NSDictionary *)userInfo
{
    ...
}
</code></pre>
</div>

<p>This pattern change now has me re-thinking how I use certain patterns in my code, especially for code that I intend on sharing between the two platforms.</p>

<p>Update: I posted a <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSApplication_Class/index.html#//apple_ref/occ/instm/NSApplication/runModalForWindow:">sample project</a> that illustrates the problem. In writing the sample app, I learned that the scenario that causes the problem is when the modal window is presented via a block that is dispatched asynchronously on the main queue.</p>

<p><a name="update2"></a>Update 2: <a href="https://mikeash.com/pyblog/">Mike Ash</a> pointed out that NSRunLoop is reentrant but GCD serial queues are not and this is the reason, not my theory of a different event loop, the block isn’t executed. Mike said, “The main queue is already executing a block, and it won’t execute a new one until that one is done. This is a subtle way in which dispatch on the main queue isn’t the same as <code class="highlighter-rouge">performSelectorOnMainThread</code>.”</p>

<p>Good to know and thanks, Mike, for explaining what is happening.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>From the <a href="https://github.com/kirbyt/MacModalDispatchAsyncProblem">Apple documentation</a> for <code class="highlighter-rouge">+[NSApp runModalForWindow:]</code>: “This method runs a modal event loop for the specified window synchronously. It displays the specified window, makes it key, starts the run loop, and processes events for that window. (You do not need to show the window yourself.) While the app is in that loop, it does not respond to any other events (including mouse, keyboard, or window-close events) unless they are associated with the window. It also does not perform any tasks (such as firing timers) that are not associated with the modal run loop. In other words, this method consumes only enough CPU time to process events and dispatch them to the action methods associated with the modal window.”&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Boston Area Mac And iOS Dev Community Is Awesome]]></title>
    <link href="http://www.thecave.com/2015/08/07/boston-area-mac-and-ios-dev-community-is-awesome/"/>
    <published>2015-08-07T10:22:16-04:00</published>
    <updated>2015-08-07T10:22:16-04:00</updated>
    <id>http://www.thecave.com/2015/08/07/boston-area-mac-and-ios-dev-community-is-awesome</id>
    <content type="html"><![CDATA[<p>This past Wednesday I had a chance to attend <a href="http://www.nshappyhour.org">NSHappyHour</a>. It’s was my first time attending since moving to Vermont two years ago. I had a great time catching up with everyone, and I was reminded just how awesome the Mac and iOS developer community is in the Boston area.</p>

<p>I also was reminded how much I miss the community there, and since moving back isn’t an option for me - snowboard season starts in about 3 months for me - I need to make a point of visit the Boston area more.</p>

]]></content>
  </entry>
  
</feed>