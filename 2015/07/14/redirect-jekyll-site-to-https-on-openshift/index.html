<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Kirby Turner">
    
    <meta name="description" content="I’m preparing to roll out a new Jekyll website, but unlike with my other Jekyll sites, I want each web page served up on https, not http. This means telling the server to redirect http request to https.

">
    

    <!-- Facebook tags -->
    <meta property="og:title" content="Redirect Jekyll Site To HTTPS On OpenShift" />
    
    <meta name="og:description" content="I’m preparing to roll out a new Jekyll website, but unlike with my other Jekyll sites, I want each web page served up on https, not http. This means telling the server to redirect http request to https.

">
    
    <meta property="og:type" content="article" />
    <meta property="article:author" content="https://www.facebook.com/mr.kirbyturner" />
    <meta property="og:image" content="http://www.thecave.com/img/bg-01.jpg" />
    <meta property="og:url" content="http://www.thecave.com/2015/07/14/redirect-jekyll-site-to-https-on-openshift/" />
    <meta property="og:site_name" content="thecave | Kirby Turner's Blog" />

    <title>Redirect Jekyll Site To HTTPS On OpenShift</title>

    <link href="https://micro.blog/kirbyt" rel="me" />
    <link rel="canonical" href="http://www.thecave.com/2015/07/14/redirect-jekyll-site-to-https-on-openshift/">
    <link rel="alternate" type="application/atom+xml" title="thecave | Kirby Turner's Blog's Feed" href="http://www.thecave.com/feed.xml" />


    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- YouTube CSS -->
    <link rel="stylesheet" href="/css/video.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/custom.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">thecave</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/archive/">Archive</a>
                </li>
                
                <li>
                    <a href="/categories/">Categories & Tags</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/bg-01.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Redirect Jekyll Site To HTTPS On OpenShift</h1>
                    
                    <span class="meta">Posted by Kirby Turner on July 14, 2015</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>I’m preparing to roll out a new <a href="http://jekyllrb.com">Jekyll</a> website, but unlike with my other Jekyll sites, I want each web page served up on <code class="language-plaintext highlighter-rouge">https</code>, not <code class="language-plaintext highlighter-rouge">http</code>. This means telling the server to redirect <code class="language-plaintext highlighter-rouge">http</code> request to <code class="language-plaintext highlighter-rouge">https</code>.</p>

<p>Hosting this new site on <a href="https://pages.github.com">Github Pages</a> isn’t option because Github Pages doesn’t support using a custom SSL certificate for your custom domain name. So I decided to see what it would take to host a Jekyll site on <a href="https://www.openshift.com">OpenShift</a>.</p>

<p>I was thrilled to learn that OpenShift has a <a href="https://hub.openshift.com/quickstarts/41-jekyll">quick start cartridge for installing Jekyll</a> on a new gear. With a click of a button I was able to deploy my new server instance with a boiler plate Jekyll site. I replaced the boiler plate site with the one I’ve been working on, and BAM! My site was up and running. The only step remaining was to force the web server to serve up the pages using <code class="language-plaintext highlighter-rouge">https</code>.</p>

<p>Turns out this is simple to do with OpenShift and Jekyll. First, I went over to namecheap.com and purchased a <a href="https://www.namecheap.com/security/ssl-certificates/rapidssl/rapidssl.aspx">RapidSSL certificate</a> with domain validation. Next, I followed the instructions from OpenShift to <a href="https://developers.openshift.com/en/managing-domains-ssl.html#_generating_a_csr_certificate_signing_request">generate my certificate signing request</a>. Using my newly generated CSR I activated my RapidSSL certificate over at namecheap, then I followed the instructions on OpenShift to <a href="https://developers.openshift.com/en/managing-domains-ssl.html#using-a-custom-ssl-certificate">add the certificate to my server instance</a>.</p>

<p>Up to this point everything was easy peasy, and all I had left to do was figure out how to redirect the Jekyll site from <code class="language-plaintext highlighter-rouge">http</code> to <code class="language-plaintext highlighter-rouge">https</code>. Turns out this isn’t difficult either.</p>

<p>The Jekyll website is actually just a static website hosted by Apache 2 running on an OpenShift gear. To force the redirect all I needed to do was add a <em>.htaccess</em> file to the root of my Jekyll site source code (note: the site source code is in the <em>source/</em> directory when using OpenShift) and put this rewrite rule in the file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RewriteEngine on  
RewriteCond %{HTTP:X-Forwarded-Proto} !https  
RewriteRule .* https://%{HTTP_HOST}%{REQUEST_URI} [R,L]  
</code></pre></div></div>

<p>After I added the <em>.htaccess</em> file with the rewrite rule, I pushed my changes to the remote git repository running on my OpenShift gear. This launched Jekyll which re-built my static website, this time with each web page being served with <code class="language-plaintext highlighter-rouge">https</code> instead of <code class="language-plaintext highlighter-rouge">http</code>.</p>

<p>Including the <em>.htaccess</em> file works great when deploying the Jekyll site to OpenShift, but approach isn’t unique to OpenShift. This should work for most Jekyll site hosted with Apache 2. And if for some reason Jekyll isn’t including the <em>.htaccess</em> file when it builds the site, add <code class="language-plaintext highlighter-rouge">include: [".htaccess"]</code> to your <em>_config.yaml</em> file.</p>



                <hr>

                
                    <p>
                    Posted in <a class='category' href='/category/programming/'>programming</a>. 
                    Tagged in <a class='tag' href='/tag/jekyll/'>jekyll</a>, <a class='tag' href='/tag/web/'>web</a>.
                    </p>
                

                

                
                    <hr>
                    <h3>Related Articles</h3>
                    <ul>
                    
                        <li><a href="/2019/07/05/happy-firecracker-day/">Happy Firecracker Day</a></li>
                    
                        <li><a href="/2019/04/10/in-the-notch/">In The Notch</a></li>
                    
                        <li><a href="/2019/04/03/one-and-done/">One And Done</a></li>
                    
                        <li><a href="/2019/03/18/in-the-woods/">Spent some time in the woods this...</a></li>
                    
                        <li><a href="/2019/02/19/water-crossing/">Had a bit of wading while snowshoeing...</a></li>
                    
                        <li><a href="/2019/02/19/heading-into-the-notch/">Heading into the Notch. </a></li>
                    
                        <li><a href="/2019/01/12/snowshoe-adventure/">A snowshoe adventure after getting annoyed at...</a></li>
                    
                        <li><a href="/2019/01/03/morning-hike-in-the-woods/">  </a></li>
                    
                        <li><a href="/2018/12/26/afternoon-walk/">Afternoon walk to burn off calories from...</a></li>
                    
                        <li><a href="/2018/12/26/merry-christmas-2018/">Merry Christmas. </a></li>
                    
                    </ul>
                

                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2015/07/07/ive-been-doing-it-wrong/" data-toggle="tooltip" data-placement="top" title="I've Been Doing It Wrong">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2015/08/07/blogging-the-little-things/" data-toggle="tooltip" data-placement="top" title="Blogging The Little Things">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<p>&nbsp;</p>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-5 col-md-offset-1 col-xs-12">
                <h3>Recent Articles</h3>
                <ul>
                
                <li><a href="/2019/07/05/happy-firecracker-day/" title="Happy Firecracker Day">Happy Firecracker Day</a></li>
                
                <li><a href="/2019/04/10/in-the-notch/" title="In The Notch">In The Notch</a></li>
                
                <li><a href="/2019/04/03/one-and-done/" title="One And Done">One And Done</a></li>
                
                <li><a href="/2019/03/18/in-the-woods/" title="">Spent some time in the woods this...</a></li>
                
                <li><a href="/2019/02/19/water-crossing/" title="">Had a bit of wading while snowshoeing...</a></li>
                
                </ul>
            </div>
            <div class="col-md-5 col-md-offset-1 col-xs-12">
                <h3>Other Sites</h3>
                <ul>
                    <li><a href="http://www.kirbyturner.com/">Kirby Turner</a></li>
                    <li><a href="https://www.flickr.com/photos/kirbyturner/">Photos</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <br />
                <ul class="list-inline text-center">
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/kirbyt">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/kirbyt">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="http://www.linkedin.com/in/kirbyturner/">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.goodreads.com/kirbyt/">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-stack-1x fa-inverse"><span style="font-family:helvetica;position: relative;top: -5px">g</span></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Kirby Turner 2020</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
