<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: programming | thecave | A Hideout for Programmers, Indie Devs, Solopreneurs]]></title>
  <link href="http://www.thecave.com/category/programming/atom.xml" rel="self"/>
  <link href="http://www.thecave.com/"/>
  <updated>2017-06-24T20:39:32+00:00</updated>
  <id>http://www.thecave.com/</id>
  <author>
    <name><![CDATA[Kirby Turner]]></name>
    
  </author>

  
  <entry>
    <title type="html"><![CDATA[How I post to my Jekyll site using my iPhone]]></title>
    <link href="http://www.thecave.com/2017/04/21/how-i-post-to-my-jekyll-site-using-my-iphone/"/>
    <updated>2017-04-21T12:53:10+00:00</updated>
    <id>http://www.thecave.com/2017/04/21/how-i-post-to-my-jekyll-site-using-my-iphone</id>
    <description><![CDATA[<p>My blog site, <a href="https://www.thecave.com">thecave.com</a>, is a static HTML site generated by <a href="https://jekyllrb.com">Jekyll</a> and hosted on <a href="https://pages.github.com">Github Pages</a>. I love that the site is static HTML as it means I can host the site virtually anywhere. But, unlike dynamic blog sites, like those powered by <a href="https://wordpress.com">WordPress</a>, I haven’t been able to publish new posts from my iPhone. And with the upcoming release of <a href="http://micro.blog">micro.blog</a>, creating new micro-posts for thecave.com from my iPhone is something I want to do, but how? How can I update my Jekyll site, with its source code hosted on <a href="https://github.com">Github</a> and custom plug-ins that can’t run on Github Pages, using my iPhone?</p>

]]></description>
    <content type="html"><![CDATA[<p>My blog site, <a href="https://www.thecave.com">thecave.com</a>, is a static HTML site generated by <a href="https://jekyllrb.com">Jekyll</a> and hosted on <a href="https://pages.github.com">Github Pages</a>. I love that the site is static HTML as it means I can host the site virtually anywhere. But, unlike dynamic blog sites, like those powered by <a href="https://wordpress.com">WordPress</a>, I haven’t been able to publish new posts from my iPhone. And with the upcoming release of <a href="http://micro.blog">micro.blog</a>, creating new micro-posts for thecave.com from my iPhone is something I want to do, but how? How can I update my Jekyll site, with its source code hosted on <a href="https://github.com">Github</a> and custom plug-ins that can’t run on Github Pages, using my iPhone?</p>

<p>I set out to answer this question, and low and behold; I found the answer. Well, the answer that works for me.</p>

<h2 id="theres-an-app-for-that">There’s an App for That</h2>

<p>First, I need an app on my iPhone that lets me push changes to my site’s Github repository. In other words, I need a git client on iOS. I decided to use <a href="https://workingcopyapp.com">Working Copy</a>. It’s a great app and easy to use. Best of all you can try it out for free. The app developer offers a 1-week free trial that lets you push changes to a git repo. After the trial period expires, you must pay to unlock the push feature, but the $14.99 price tag is well worth it in my opinion.</p>

<p>Next, I need a way to write my posts. Working Copy has a <a href="https://daringfireball.net/projects/markdown/syntax">Markdown</a> editor built in, which is great for editing existing posts. But there are better editors in the App Store. First, I tried 1Writer since I already have it, and I use it for writing notes and such. Unfortunately, it didn’t play well with Working Copy, so I continued my search for the ideal editor.</p>

<p><a href="https://bywordapp.com">Byword</a>, the next app I looked at, looks beautiful, and reviewers have commented how they are using it with Working Copy. But I ended up not trying Byword because I discovered Editorial.</p>

<p><a href="http://omz-software.com/editorial/">Editorial</a> has a built-in workflow engine, and while this app might not look as pretty as Byword, it is much more powerful, thanks to a built-in workflow engine, and suited to my needs. I bought Editorial right away and started playing with different workflows that already work with Working Copy. After some trial and error, I created two workflows. One lets me publish a post to thecave.com, and the other lets me publish a micro-post.</p>

<p>The difference between the two workflows is subtle. The workflow I use to publish a post lets me pick a category and add tags. The micro-post workflow lets me choose a category and add other tags. For my micro-post to be picked up by micro.blog, I must use the tag “micropost,” and this workflow enforces this rule. Also, my micro-post workflow sets an empty title in the front matter YAML, which brings me to the question…</p>

<h2 id="why-do-i-need-these-workflows">Why Do I Need These Workflows?</h2>

<p>The workflows save me time and simplify the publish steps. For instance, Jekyll uses YAML as <a href="https://jekyllrb.com/docs/frontmatter/">front matter</a> for each post. There’s no way I want to write this front matter by hand on my iPhone each time. I can use TextExpander, but seeing the front matter can be distracting on my iPhone. So I let Editorial’s workflow work its magic to generate the YAML front matter before handing off the document to Working Copy.</p>

<p>The workflow also names the file with the appropriate YYYY-MM-DD prefix that Jekyll expects, and it does one other thing for me as well. It sends the appropriate commands to Working Copy so it can add, commit, and push the new document to my git repository. And after Working Copy finishes its job, it returns me back to Editorial.</p>

<p>Simply put, the Editorial workflow lets me publish a new post with just a few taps of my finger.</p>

<p><div class="vimeo-video"><figure><iframe src="//player.vimeo.com/video/214172887" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></figure></div></p>

<h2 id="sharing-my-workflows">Sharing My Workflows</h2>

<p>I shared my two workflows on <a href="http://www.editorial-workflows.com">Editorial Workflows</a>, which is a directory of workflows. You can use them as is or tweak them to your liking. You must, however, set the key and repo name variables at the start of the workflow as these will be unique to your install of Working Copy.</p>

<ul>
  <li><a href="http://www.editorial-workflows.com/workflow/5790030849114112/WIlXHDBWQBQ">KT: Send Jekyll Post using Working Copy</a></li>
  <li><a href="http://www.editorial-workflows.com/workflow/5335890234703872/dIfk8O40fDM">KT: Send micropost using Working Copy</a></li>
</ul>

<h2 id="using-custom-jekyll-plug-ins">Using Custom Jekyll Plug-ins</h2>

<p>If you are using <a href="https://jekyllrb.com">Jekyll</a> to generate your blog site, and you host your site on <a href="https://pages.github.com">Github Pages</a>, then all you need is <a href="http://omz-software.com/editorial/">Editorial</a> and <a href="https://workingcopyapp.com">Working Copy</a> to publish new content from your iPhone. That is, assuming you are not using custom plug-ins. If you are not using custom plug-ins, then Github Pages will generate the Jekyll site for you when you push changes to the master branch. I, however, use a custom plug-ins for <a href="https://www.thecave.com">thecave.com</a>, which means Github Pages will not generate my site for me.</p>

<p>Because I use custom plug-ins, I must generate my site locally using my laptop. This means I cannot publish new content from my iPhone. Or so I thought.</p>

<h2 id="using-continuous-integration-to-build-a-jekyll-site">Using Continuous Integration to Build a Jekyll Site</h2>

<p>It occurred to me that I can use a build server or continuous integration (CI) environment to build my site when changes are pushed to the master branch. After all, I do this with the iOS apps I make.</p>

<p>My CI of choice is <a href="https://www.bitrise.io">Bitrise</a>. It provides continuous integration and delivery services for mobile apps, but it can also be used to generate a Jekyll site. Best of all, their “free forever” <a href="https://www.bitrise.io/pricing">Hobby plan</a> can be used to generate a Jekyll site and push it out to Github Pages. Here’s my <a href="https://github.com/kirbyt/site-www-thecave-com/blob/master/bitrise.yml">bitrise.yml</a> that defines the Bitrise workflow steps that build and publish my Jekyll site.</p>

<h2 id="and-thats-how-i-do-it">And That’s How I Do It</h2>

<p>That’s how I publish new content to <a href="https://www.thecave.com">thecave.com</a> using my iPhone. I admit it’s a bit geeky, but know that it is setup, I can publish new posts from iPhone with a tap of my finger.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Convert Time with a TextExpander Snippet]]></title>
    <link href="http://www.thecave.com/2017/04/16/convert-time-with-a-textexpander-snippet/"/>
    <updated>2017-04-17T01:14:46+00:00</updated>
    <id>http://www.thecave.com/2017/04/16/convert-time-with-a-textexpander-snippet</id>
    <description><![CDATA[<p>I find I am using <a href="https://textexpander.com">TextExpander</a> more and more these days. It’s an awesome productivity tool that saves me time by inserting snippets of text into whatever I’m writing, be it code or words. What I didn’t know about TextExpander, that is, until today, is that it can run shell scripts to generate the text snippets.</p>

]]></description>
    <content type="html"><![CDATA[<p>I find I am using <a href="https://textexpander.com">TextExpander</a> more and more these days. It’s an awesome productivity tool that saves me time by inserting snippets of text into whatever I’m writing, be it code or words. What I didn’t know about TextExpander, that is, until today, is that it can run shell scripts to generate the text snippets.</p>

<p>I often meet with people on the West Coast. When I schedule a meeting time, I will say something like “Let’s meet at 01:30 PM EDT / 10:30 AM PDT” in the email. Not only is this a lot of text to type, but it also requires I calculate the Pacific time.</p>

<p>How cool would it be if TextExpander could generate the time snippet for me? Guess what. It can.</p>

<p>I created a shell script snippet that takes a local time, which I input, and calculates the Eastern and Pacific times. I use <em>timept;;</em> for the snippet abbreviation. Now when I want to mention a particular time in an email, I type <em>timept;;</em> and enter the time. TextExpander does the rest.</p>

<p>Here’s the shell script code for anyone who might want it. Make sure you select <strong>Shell Script</strong> as the <em>Content</em> type when creating the snippet.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c">#! /bin/bash</span>

<span class="c"># Enter a time using 24H. 1:30pm is 13:30 .</span>

<span class="nv">ENTERTIME</span><span class="o">=</span><span class="s2">"%filltext:name=Time (in 24H)%"</span>


<span class="c"># See https://gist.github.com/palaniraja/f8e21e8c66eac7e1b313 for a</span>
<span class="c"># list of time zone names.</span>

<span class="nv">T1</span><span class="o">=</span><span class="k">$(</span><span class="nv">TZ</span><span class="o">=</span><span class="s2">"America/New_York"</span> date -jf <span class="s2">"%H:%M %z"</span> <span class="s2">"</span><span class="nv">$ENTERTIME</span><span class="s2"> </span><span class="k">$(</span>date <span class="s2">"+%z"</span><span class="k">)</span><span class="s2">"</span> <span class="s2">"+%I:%M %p %Z"</span><span class="k">)</span>

<span class="nv">T2</span><span class="o">=</span><span class="k">$(</span><span class="nv">TZ</span><span class="o">=</span><span class="s2">"America/Los_Angeles"</span> date -jf <span class="s2">"%H:%M %z"</span> <span class="s2">"</span><span class="nv">$ENTERTIME</span><span class="s2"> </span><span class="k">$(</span>date <span class="s2">"+%z"</span><span class="k">)</span><span class="s2">"</span> <span class="s2">"+%I:%M %p %Z"</span><span class="k">)</span>

<span class="nb">echo</span> -n <span class="s2">"</span><span class="nv">$T1</span><span class="s2"> / </span><span class="nv">$T2</span><span class="s2">"</span>
</code></pre>
</div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Experienced Programmer's Guide to Getting Started with Swift]]></title>
    <link href="http://www.thecave.com/2017/02/02/the-experienced-programmers-guide-to-getting-started-with-swift/"/>
    <updated>2017-02-02T16:32:49+00:00</updated>
    <id>http://www.thecave.com/2017/02/02/the-experienced-programmers-guide-to-getting-started-with-swift</id>
    <description><![CDATA[<p>A couple Vermont-based software developers recently asked me how to get started with Swift and writing apps for iOS. I emailed them individually, but when I was asked again today, I thought, time to write a blog post.</p>

]]></description>
    <content type="html"><![CDATA[<p>A couple Vermont-based software developers recently asked me how to get started with Swift and writing apps for iOS. I emailed them individually, but when I was asked again today, I thought, time to write a blog post.</p>

<p>If you are an experienced programmer looking to get started with Swift and iOS development, I suggest starting with the <a href="https://developer.apple.com/swift/resources/">Apple developer guides</a>. I also recommend reading the language guide, available in the iBooks Store and <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/index.html#//apple_ref/doc/uid/TP40014097-CH3-ID0">online</a>. It is a dry read, but very detailed. Besides, I still find myself referring to it from time to time, so it is on my “must read” list for those new to Swift.</p>

<p>Another great place to get started is over at <a href="https://www.raywenderlich.com">raywenderlich.com</a>. The site contains tons of great tutorials, books, and videos. Some are free, others you pay for, but the materials are some of the best learning materials outside of Apple. Take a look at the <a href="https://www.raywenderlich.com/category/swift">Swift category</a> to get started.</p>

<p>If you are interested in game development, the book <em><a href="https://www.raywenderlich.com/store/2d-ios-tvos-games-by-tutorials">2D Apple Games</a></em> is an awesome read. It focuses on writing iOS games using Swift 3 and SpriteKit, giving you step by step instructions. I have read half the book so far, and it has been a blast learning how to create games for iOS (even though I am not a game developer).</p>

<p>Lastly, if you have an iPad, check out <a href="http://www.apple.com/swift/playgrounds/">Swift Playgrounds</a>. It teaches you how to code, which is not something you need if you are an experienced programmer, but from what I have heard, the advance lessons can be helpful in teaching experienced programmer how to write Swift code. Also, you can experiment with all aspects of the device, from accessing the various iOS frameworks, such as SpriteKit and UIKit, to directly controlling hardware, such as the gyroscope, accelerometer, and camera. (Download the Swift Playgrounds app <a href="https://itunes.apple.com/us/app/swift-playgrounds/id908519492?mt=8">here</a>.)</p>

<p>Hope this helps get you started.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How To Do A Case Insensitive Search Using Parse SDK]]></title>
    <link href="http://www.thecave.com/2015/12/03/how-to-do-a-case-insensitive-search-using-parse-sdk/"/>
    <updated>2015-12-03T15:16:56+00:00</updated>
    <id>http://www.thecave.com/2015/12/03/how-to-do-a-case-insensitive-search-using-parse-sdk</id>
    <description><![CDATA[<p>I recently came across this question about searching using the Parse SDK for iOS. Simon asks:</p>

]]></description>
    <content type="html"><![CDATA[<p>I recently came across this question about searching using the Parse SDK for iOS. Simon asks:</p>

<blockquote>
  <p>What would be the best practice for search in a large user database and return e..g 10 first results based on name or email?</p>
</blockquote>

<p>I’ve been doing a lot with <a href="https://www.parse.com">Parse</a> recently, from building a new iOS app to adding a license key <a href="http://www.whitepeaksoftware.com/licenselookup">lookup</a> feature to my company website, and the reason Simon’s question caught my attention was because I asked myself a similar question the other day when working on the license key lookup feature.</p>

<p>The license key data comes from my order processing provider. A customer who has lost they license key can visit my website and retrieve for their license information by entering their email address. The problem, however, is that the person might enter the email address using a different case than used when the order was placed. And Parse does not have a way to perform a case insensitive search on string values.</p>

<p>So how do you get around this problem? And as Simon asks, what are some best practices for searching data in Parse?</p>

<h2 id="force-strings-to-all-lowercase">Force Strings To All Lowercase</h2>

<p>For starters, you should force all string values that can be searched to lower case, and do the same with the search string entered by the user. This produces the same effect as performing a case insensitive search while getting around the fact that Parse, as well as other types of data stores, doesn’t support case insensitive searches.</p>

<p>While storing the string value in all lowercase works fine for some value types, such as an email address, it’s not ideal for other value types. A person’s first and last names are not something you want to store in lowercase only. After all, you will likely display the person’s name on a profile screen or in an email message, and you want to display the name exactly as entered by the person.</p>

<p>So how do you search by data such as a first or last name without the ability to perform a case insensitive search? Simple. You create a search field for each.</p>

<h2 id="define-search-fields">Define Search Fields</h2>

<p>Let’s say your Parse class contains three properties, <code class="highlighter-rouge">firstName</code>, <code class="highlighter-rouge">lastName</code>, and <code class="highlighter-rouge">email</code>. All three contain data entered by a person. When you add a new instance of this class to Parse containing the data entered by the person, you can force the value for <code class="highlighter-rouge">email</code> to be lowercase (e.g., <code class="highlighter-rouge">-[NSString lowercaseString]</code> if you’re using Objective-C). However, you don’t want to do this for <code class="highlighter-rouge">firstName</code> and <code class="highlighter-rouge">lastName</code>. Instead, you want to use search fields for those two properties.</p>

<p>To search on <code class="highlighter-rouge">firstName</code> and <code class="highlighter-rouge">lastName</code>, add two additional properties to your class, <code class="highlighter-rouge">firstNameSearch</code> and <code class="highlighter-rouge">lastNameSearch</code>. Then, just as you did with <code class="highlighter-rouge">email</code>, force the values for <code class="highlighter-rouge">firstNameSearch</code> and <code class="highlighter-rouge">lastNameSearch</code> to be all lowercase before saving the data to Parse. Now when you want to perform a search, use the search properties <code class="highlighter-rouge">firstNameSearch</code> and <code class="highlighter-rouge">lastNameSearch</code> instead of the other two.</p>

<p>Congratulations! You’ve achieved case insensitive searching in an environment that does not support it.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How To Present An Alert View Using UIAlertController When You Don't Have A View Controller]]></title>
    <link href="http://www.thecave.com/2015/09/28/how-to-present-an-alert-view-using-uialertcontroller-when-you-dont-have-a-view-controller/"/>
    <updated>2015-09-28T19:46:02+00:00</updated>
    <id>http://www.thecave.com/2015/09/28/how-to-present-an-alert-view-using-uialertcontroller-when-you-dont-have-a-view-controller</id>
    <description><![CDATA[<p>Over the summer I updated a number of apps to iOS 9. A common tasks for me was replacing the deprecated <code class="highlighter-rouge">UIAlertView</code> with new <code class="highlighter-rouge">UIAlertController</code> class. Generally this is easy to do, but there is one scenario that <code class="highlighter-rouge">UIAlertView</code> handles well that <code class="highlighter-rouge">UIAlertController</code> doesn’t support at all: displaying an alert view from parts of your code without a reference to the current view controller, for instance, displaying an alert view from the app delegate.</p>

]]></description>
    <content type="html"><![CDATA[<p>Over the summer I updated a number of apps to iOS 9. A common tasks for me was replacing the deprecated <code class="highlighter-rouge">UIAlertView</code> with new <code class="highlighter-rouge">UIAlertController</code> class. Generally this is easy to do, but there is one scenario that <code class="highlighter-rouge">UIAlertView</code> handles well that <code class="highlighter-rouge">UIAlertController</code> doesn’t support at all: displaying an alert view from parts of your code without a reference to the current view controller, for instance, displaying an alert view from the app delegate.</p>

<p>Trying to display an alert view using <code class="highlighter-rouge">UIAlertController</code> from a non-UI specific class such as the app delegate is a <a href="http://stackoverflow.com/questions/26952061/present-uialertcontroller-from-appdelegate">common problem</a>, and developers have found different <a href="http://stackoverflow.com/questions/26554894/how-to-present-uialertcontroller-when-not-in-a-view-controller">workarounds</a>. <a href="http://stackoverflow.com/a/30941356">One particular solution</a> that caught my eye was this one from agilityvision, who writes:</p>

<blockquote>
  <p>At WWDC I stopped in at one of the labs and asked an Apple Engineer this same question: “What was the best practice for displaying a UIAlertController?” And he said they had been getting this question a lot and we joked that they should have had a session on it. He said that internally Apple is creating a UIWindow with a transparent UIViewController and then presenting the UIAlertController on it.</p>
</blockquote>

<p>This got me thinking about how I would solve the problem for apps I work on. Liking the approach mentioned by the Apple Engineer, I decided to give that a try. But unlike some of the other solutions that use a category, I decided to create a new class, <code class="highlighter-rouge">WPSAlertController</code>, that is a subclass of <code class="highlighter-rouge">UIAlertController</code>, and provide additional convenience methods making it possible to display an alert view with a single call…like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSString *title = ...
NSString *message = ...
[WPSAlertController presentOkayAlertWithTitle:title message:message];
</code></pre>
</div>

<p>Or display the <code class="highlighter-rouge">localizedDescription</code> from an <code class="highlighter-rouge">NSError</code> object:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[WPSAlertController presentOkayAlertWithError:error];
</code></pre>
</div>

<p>And of course, since <code class="highlighter-rouge">WPSAlertController</code> is a subclass of <code class="highlighter-rouge">UIAlertController</code>, you can create your alert the same way as you do using <code class="highlighter-rouge">UIAlertController</code>. The only difference is you call <code class="highlighter-rouge">show</code> to present the alert when you don’t have a view controller. For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSString *title = ...
NSString *message = ...
WPSAlertController *alertController = [WPSAlertController alertControllerWithTitle:title message:message preferredStyle:UIAlertControllerStyleAlert];
[alertController addAction:[UIAlertAction actionWithTitle:@"OK" style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
  // Your code.
}]];

[alertController show];
</code></pre>
</div>

<p>You can grab the <a href="https://github.com/kirbyt/WPSKit/blob/master/WPSKit/UIKit/WPSAlertController.m">source code for <code class="highlighter-rouge">WPSAlertController</code></a> from my github repository and include it in your project, or use the entire <a href="https://github.com/kirbyt/WPSKit">WPSKit.framework</a> in your project if you want to use <code class="highlighter-rouge">WPSAlertController</code> plus other handy classes that I use when creating iOS apps.</p>
]]></content>
  </entry>
  
</feed>